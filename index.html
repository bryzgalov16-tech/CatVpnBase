<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Подключить VPN</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background-color: #f4f4f9; margin: 0; }
        .container { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center; width: 90%; max-width: 400px; }
        h1 { font-size: 1.5rem; margin-bottom: 1.5rem; color: #333; }
        .btn { display: block; width: 100%; padding: 12px; margin: 10px 0; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; text-decoration: none; transition: transform 0.1s, background-color 0.2s; }
        .btn:active { transform: scale(0.98); }
        .v2ray { background-color: #5856d6; color: white; }
        .happ { background-color: #007aff; color: white; }
        .copy-btn { background-color: #e5e5ea; color: #333; font-size: 0.9rem; }
    </style>
</head>
<body>

<div class="container">
    <h1>Добавить подписку</h1>
    
    <a href="#" id="v2rayLink" class="btn v2ray">Импорт в v2raytun</a>
    
    <a href="#" id="happLink" class="btn happ">Импорт в Happ</a>

    <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">
    
    <button onclick="copyToClipboard()" class="btn copy-btn">Копировать ссылку вручную</button>
</div>

<script>
    // Ваша ссылка на Gist
    const rawUrl = "https://gist.githubusercontent.com/bryzgalov16-tech/e65d559af250502452f97db4f159e873/raw/general.txt#Cat_VPN_Main";
    
    // Кодируем URL для безопасной передачи в Deeplink
    const encodedUrl = encodeURIComponent(rawUrl);

    // Формируем ссылки согласно документации
    document.getElementById('v2rayLink').href = "v2raytun://import/" + rawUrl; // v2ray обычно ест сырые ссылки
    document.getElementById('happLink').href = "happ://add/" + rawUrl; // Для Happ согласно инструкции

    function copyToClipboard() {
        navigator.clipboard.writeText(rawUrl).then(() => {
            alert("Ссылка скопирована!");
        });
    }
</script>

</body>
</html>
